---
---

<div id="hyrox-banner" class="hyrox-banner">
  <div class="hyrox-banner-content">
    <svg class="hyrox-banner-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="17" cy="4" r="2"/>
      <path d="M15.59 13.51 11 9.5 4 15"/>
      <path d="m12.84 9.26 2.76 2.62"/>
      <path d="M18 20c-.9-1.32-2.07-2.4-3.42-3.09"/>
      <path d="M4 20c1.39-.65 2.63-1.61 3.63-2.79"/>
      <path d="m11 9.5 1.09 5.83"/>
    </svg>
    <span>Hey, fellow Hyrox athlete! Check out my <a href="#one-percent-mode" class="hyrox-banner-link">1% mode section</a> below.</span>
    <button id="hyrox-banner-close" class="hyrox-banner-close" aria-label="Close banner">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>
</div>

<script>
  document.addEventListener('astro:page-load', () => {
    const banner = document.getElementById('hyrox-banner');
    const closeBtn = document.getElementById('hyrox-banner-close');

    if (!banner || !closeBtn) return;

    const params = new URLSearchParams(window.location.search);
    if (params.get('origin') === 'hyrox') {
      banner.style.display = 'block';
    }

    closeBtn.addEventListener('click', () => {
      banner.style.display = 'none';
    });
  });
</script>

<style>
  .hyrox-banner {
    display: none;
    top: 0;
    background: #151f28;
    border-bottom: 1px solid var(--border-color);
    z-index: 1000;
  }

  .hyrox-banner-content {
    max-width: 935px;
    margin: 0 auto;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    font-size: 14px;
    color: var(--text-primary);
  }

  .hyrox-banner-icon {
    margin-right: 8px;
    flex-shrink: 0;
  }

  .hyrox-banner-link {
    color: var(--link-color);
    font-weight: 600;
    text-decoration: underline;
  }

  .hyrox-banner-close {
    position: absolute;
    right: 16px;
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s ease;
  }

  .hyrox-banner-close:hover {
    color: var(--text-primary);
  }

  @media (max-width: 735px) {
    .hyrox-banner-content {
      font-size: 12px;
      padding: 10px 40px 10px 16px;
      text-align: center;
    }

    .hyrox-banner-icon {
      display: none;
    }

    .hyrox-banner-close {
      right: 8px;
    }
  }
</style>
